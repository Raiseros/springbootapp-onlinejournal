<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
    <meta charset="UTF-8">
    <title>Journal</title>
</head>
<body>
<div class="container">
    <h3 class="text-muted">Journal Directory</h3>
    <hr class="my-4">

</div>


<div sec:authorize="hasRole('teacher')">
    <p>Welcome to online journal!</p>
    <div class="user">
        User: <span sec:authentication="principal.username"></span>
    </div>
    </br>

    <br>
    <div class="role">
        Role: <span sec:authentication="principal.authorities"></span>
    </div>

    <form role="form" class="form-horizontal" action="#" th:action="@{/showTeacherLoginPage/logout}"
          method="POST">

        <div class="col-md-12">
            <button type="submit" class="btn btn-success">Logout</button>
        </div>
    </form>
    <div class="table-warning text-center col-4">

        <a th:href="@{/journal}" class="btn btn-primary btn-sm"
           role="button">Journal</a>


        <a th:href="@{/grades}" class="btn btn-danger btn-sm"
           role="button">Grades</a>

    </div>

</div>


    <form action="#" th:action="@{/registry-lesson}">
        <input type="submit" class="btn btn-success" value="New lesson">
    </form>
    <p></p>
<div class="table-responsive">
    <table border="1" class="table table-striped table-hover table-bordered">

        <tbody>

        <tr class="d-flex" th:each="tempJournal : ${journals}">

            <td class="table-warning d-inline-flex justify-content-start align-items-center col-sm-3"
                th:text="${tempJournal.dateLesson}"/>
            <td class="table-warning d-inline-flex justify-content-center align-items-center col-sm-3"
                th:text="${tempJournal.numberLesson}"/>
            <td class="table-warning d-inline-flex justify-content-center align-items-center col-2"
                th:text="${tempJournal.timeLesson}"/>
            <td class="table-warning d-inline-flex justify-content-start align-items-center col-sm-3"
                th:text="${tempJournal.fullnameCourse}"/>
            <td class="table-warning d-inline-flex justify-content-center align-items-center col-sm-3"
                th:text="${tempJournal.shortnameCourse}"/>
            <td class="table-warning d-inline-flex justify-content-center align-items-center col-2"
                th:text="${tempJournal.className}"/>
            <td class="table-warning d-inline-flex justify-content-center align-items-center col-2"
                th:text="${tempJournal.schoolBuilding}"/>
            <td class="table-warning d-inline-flex justify-content-start align-items-center col-sm-3"
                th:text="${tempJournal.homework}"/>
            <td class="table-warning d-inline-flex justify-content-center align-items-center col-sm-3"
                th:text="${tempJournal.classnameStudent}"/>
            <td class="table-warning d-inline-flex justify-content-center align-items-center col-2"
                th:text="${tempJournal.timeBreak}"/>
            <td class="table-warning text-center col-4">

                <a th:href="@{/formForUpdate(journalId=${tempJournal.id})}" class="btn btn-primary btn-sm"
                   role="button">Update</a>


                <a th:href="@{/delete(journalId=${tempJournal.id})}" class="btn btn-danger btn-sm"
                   role="button">Delete</a>

            </td>

        </tr>

        </tbody>

    </table>
</div>
</div>
</body>
</html>